<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="./stylesheets/main.css">
    <link href="https://fonts.googleapis.com/css?family=Assistant:200,300,400" rel="stylesheet">
    <meta charset="utf-8">
    <title>Plan My Night</title>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <!-- <script src="https://d3js.org/d3.v4.js"></script> -->
    <script src="https://cdn.rawgit.com/jgallen23/jquery-builder/0.7.0/dist/1.11.1/jquery-css-deprecated-dimensions-effects-event-alias-offset-wrap.min.js"></script>
  </head>

  <body class="mainbody">
    <div class="top-master-wrapper">
      <div class="header-wrapper">
        <div class="title">
          <div class="header">Plan My Night</div>
          <div class="tagline">  A Yelp Visualizer by Nicholas Halloran</div>
        </div>
        <div class="nav">
          <form id="searchform" method="POST" action="/yelp">
            <input id="location" name="location" placeholder="Enter Location" type="text" >
            <br/>
            <input id="searchTerm" name="searchTerm" placeholder="Enter Search" type="text">
            <input type="submit"value="submit">
          </form>

          <p id="retry"></p>
          <button id="reset" type="button" name="button">Reset</button>
        </div>
        <div class="social">
          <a target="_blank" href="https://www.linkedin.com/in/nick-halloran-6a90702/" class="icon fa-linkedin alt">Linkedin</a>
          <a target="_blank" href="https://www.github.com/nmhalloran/" class="icon fa-github alt">Github</a>
        </div>
      </div>
    </div>

    <div id="loading">

    </div>
    <div class="mainwrapper">
      <canvas id="network" className="canvas"></canvas>
      <script type="application/javascript" src="./javascripts/canvas.js"></script>
      <!-- <script>

      let graph = {
        nodes: [
          {name: "John", age:36},
          {name: "Mafe", age: 34},
          {name: "Edwin", age: 39},
          {name: "Santi", age: 8},
          {name: "Nick", age: 3}
        ]
      }
        var canvas = d3.select('#network'),
          width = window.innerWidth,
          height = window.innerHeight,
          ctx = canvas.node().getContext("2d");
        simulation = d3.forceSimulation()
        .force("x", d3.forceX(width/2))
        .on("tick", update);

        // graph.nodes.forEach(function (d) {
        //   d.x = Math.random() * width;
        //   d.y = Math.random() * height;
        //   debugger
        // })

        function update() {
          ctx.clearRect(0, 0, width, height);
          ctx.beginPath();
          graph.nodes.forEach(drawNode);
          ctx.fill()
        }

        function drawNode(d) {
          ctx.moveTo(d.x, d.y);
          ctx.arc(d.x, d.y, 3, 0, 2 * Math.PI);
        }
        update();
      </script> -->

      <div id="article-prev">
        <a target="_blank" id="article-link">
          <span id="article-prev-title">How to Use Plan My Night</span>
        </a>
        <span id="parent-line"></span>
        <div id="article-prev-text">
          Enter your location and then make a standard Yelp search. Click on the circles representing the businesses returned in your search!

          NB: Enter in a new search to clear and reset the screen.

        </div>
      </div>
    </div>

    <script type="application/javascript" src="./bundle.js"></script>

  </body>
</html>
